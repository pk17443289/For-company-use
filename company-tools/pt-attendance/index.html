<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PT æ‰“å¡ç³»çµ± - å“¡å·¥ç®¡ç†</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script>
</head>
<body>
    <div class="container">
        <nav class="nav-bar">
            <h1>ğŸ¯ PT æ‰“å¡ç³»çµ±</h1>
            <div class="nav-links">
                <a href="index.html" class="active">å“¡å·¥ç®¡ç†</a>
                <a href="admin.html">ç®¡ç†å¾Œå°</a>
            </div>
        </nav>

        <div class="content">
            <div class="section">
                <h2>æ–°å¢ PT å“¡å·¥</h2>
                <form id="addEmployeeForm" class="form-card">
                    <div class="form-group">
                        <label for="employeeName">å§“å</label>
                        <input type="text" id="employeeName" required placeholder="è«‹è¼¸å…¥å“¡å·¥å§“å">
                    </div>
                    <div class="form-group">
                        <label for="employeeId">å“¡å·¥ç·¨è™Ÿ</label>
                        <input type="text" id="employeeId" required placeholder="è«‹è¼¸å…¥å“¡å·¥ç·¨è™Ÿ">
                    </div>
                    <div class="form-group">
                        <label for="department">éƒ¨é–€</label>
                        <input type="text" id="department" placeholder="è«‹è¼¸å…¥éƒ¨é–€">
                    </div>
                    <div class="form-group">
                        <label for="phone">è¯çµ¡é›»è©±</label>
                        <input type="tel" id="phone" placeholder="è«‹è¼¸å…¥è¯çµ¡é›»è©±">
                    </div>
                    <button type="submit" class="btn btn-primary">â• æ–°å¢å“¡å·¥ä¸¦ç”Ÿæˆ QR Code</button>
                </form>
            </div>

            <div class="section">
                <h2>å“¡å·¥åˆ—è¡¨</h2>
                <div id="employeeList" class="employee-list">
                    <div class="loading">è¼‰å…¥ä¸­...</div>
                </div>
            </div>
        </div>
    </div>

    <!-- QR Code å½ˆçª— -->
    <div id="qrcodeModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2 id="modalEmployeeName"></h2>
            <div id="qrcodeContainer"></div>
            <p class="qr-instruction">è«‹å°‡æ­¤ QR Code æä¾›çµ¦å“¡å·¥é€²è¡Œæ‰“å¡</p>
            <button id="downloadQR" class="btn btn-primary">ğŸ“¥ ä¸‹è¼‰ QR Code</button>
            <button id="printQR" class="btn btn-secondary">ğŸ–¨ï¸ åˆ—å° QR Code</button>
        </div>
    </div>

    <script src="https://apis.google.com/js/api.js"></script>
    <script src="config.js"></script>
    <script src="script.js"></script>
    <script>
        // åˆå§‹åŒ–é é¢
        document.addEventListener('DOMContentLoaded', function() {
            initGoogleSheets();
            loadEmployees();

            // æ–°å¢å“¡å·¥è¡¨å–®æäº¤
            document.getElementById('addEmployeeForm').addEventListener('submit', async function(e) {
                e.preventDefault();
                await addEmployee();
            });

            // é—œé–‰å½ˆçª—
            document.querySelector('.close').addEventListener('click', function() {
                document.getElementById('qrcodeModal').style.display = 'none';
            });

            // ä¸‹è¼‰ QR Code
            document.getElementById('downloadQR').addEventListener('click', function() {
                downloadQRCode();
            });

            // åˆ—å° QR Code
            document.getElementById('printQR').addEventListener('click', function() {
                window.print();
            });
        });
    </script>
</body>
</html>
